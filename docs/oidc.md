# 1. OpenID Connect 1.0 æ¦‚è¦

OpenID Connect 1.0 (OIDC) ã¯ã€OAuth 2.0 ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®ä¸Šã«æ§‹ç¯‰ã•ã‚ŒãŸã€ã‚·ãƒ³ãƒ—ãƒ«ã§ç›¸äº’é‹ç”¨å¯èƒ½ãª **IDãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆèªè¨¼ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼‰** ã§ã™ã€‚

èªå¯ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã‚ã‚‹ OAuth 2.0 ã‚’åœŸå°ã¨ã™ã‚‹ã“ã¨ã§ã€ã‚»ã‚­ãƒ¥ã‚¢ãªã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ç®¡ç†ã‚’ç¶™æ‰¿ã—ã¤ã¤ã€æ–°ãŸã«ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒèª°ã§ã‚ã‚‹ã‹ã€ã‚’è¨¼æ˜Žã™ã‚‹æ©Ÿèƒ½ã‚’ä»˜åŠ ã—ã¦ã„ã¾ã™ã€‚

## ä¸»ãªæ©Ÿèƒ½

OpenID Connect ã®ä¸­æ ¸ã¨ãªã‚‹æ©Ÿèƒ½ã¯ã€ä¸»ã«ä»¥ä¸‹ã®2ç‚¹ã«é›†ç´„ã•ã‚Œã¾ã™ã€‚

* **OAuth 2.0 ä¸Šã«æ§‹ç¯‰ã•ã‚ŒãŸèªè¨¼æ©Ÿèƒ½**
    * OAuth 2.0 ã®èªå¯ãƒ•ãƒ­ãƒ¼ã‚’æ‹¡å¼µã—ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®èº«å…ƒã‚’ç¢ºèªï¼ˆèªè¨¼ï¼‰ã™ã‚‹ã“ã¨ã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€èªå¯ã‚µãƒ¼ãƒãƒ¼ã«ã‚ˆã‚‹èªè¨¼çµæžœã«åŸºã¥ã„ãŸä¿¡é ¼æ€§ã®é«˜ã„ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†ãŒå®Ÿç¾ã•ã‚Œã¾ã™ã€‚
* **ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é–¢ã™ã‚‹æƒ…å ±ã‚’ä¼é”ã™ã‚‹ãŸã‚ã®ã€Œã‚¯ãƒ¬ãƒ¼ãƒ ã€ã®åˆ©ç”¨æ©Ÿèƒ½**
    * ã€ŒClaimsï¼ˆã‚¯ãƒ¬ãƒ¼ãƒ ï¼‰ã€ã¨å‘¼ã°ã‚Œã‚‹æ¨™æº–åŒ–ã•ã‚ŒãŸå½¢å¼ï¼ˆJSONï¼‰ã‚’ç”¨ã„ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®åå‰ã‚„ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãªã©ã®å±žæ€§æƒ…å ±ã‚’å®‰å…¨ã«ä¼é”ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ç•°ãªã‚‹ã‚·ã‚¹ãƒ†ãƒ é–“ã§ã‚‚ä¸€è²«ã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®ã‚„ã‚Šå–ã‚ŠãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

---
> **Note:** OpenID Connect ã¯ã€REST-like ãªæ‰‹æ³•ã«ã‚ˆã‚Šã€Webã€ãƒ¢ãƒã‚¤ãƒ«ã€ãŠã‚ˆã³ JavaScript ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã„ã£ãŸå¤šæ§˜ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ç’°å¢ƒã«ãŠã„ã¦ã€ç›¸äº’é‹ç”¨æ€§ã®é«˜ã„å®Ÿè£…ã‚’æä¾›ã—ã¾ã™ã€‚

# ç¬¬2ç« ï¼šæŠ€è¡“çš„èƒŒæ™¯ã¨å‰ææ¡ä»¶

## 2.1 OAuth 2.0 ã®é™ç•Œã¨ OIDC ã®å½¹å‰²

OpenID Connect (OIDC) ã‚’ç†è§£ã™ã‚‹ãŸã‚ã«ã¯ã€ãã®åœŸå°ã§ã‚ã‚‹ **OAuth 2.0 (RFC6749, RFC6750)** ã¨ã®å½¹å‰²ã®é•ã„ã‚’æ˜Žç¢ºã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```mermaid
graph TD
    subgraph OIDC ["OpenID Connect 1.0"]
        A[ID Token / UserInfo / Claims]
    end
    subgraph OAuth ["OAuth 2.0"]
        B[Access Token / Scopes]
    end
    subgraph HTTP ["Transport Layer"]
        C[HTTP / TLS]
    end
    OIDC -->|Extension| OAuth
    OAuth -->|Base| HTTP
```

* **OAuth 2.0 ãŒæä¾›ã™ã‚‹ã‚‚ã®**
    * ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¢ãƒ—ãƒªãŒ HTTP ãƒªã‚½ãƒ¼ã‚¹ã¸ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®ã€Œã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã€ã®ç™ºè¡Œãƒ»åˆ©ç”¨ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€‚
* **OAuth 2.0 ãŒå®šç¾©ã—ã¦ã„ãªã„ã‚‚ã®**
    * **èº«å…ƒæƒ…å ±ï¼ˆIdentity Informationï¼‰** ã‚’æä¾›ã™ã‚‹ãŸã‚ã®æ¨™æº–çš„ãªæ‰‹æ³•ã€‚
* **æœ¬ä»•æ§˜ã«ãŠã‘ã‚‹è§£æ±ºç­–**
    * ç´ ã® OAuth 2.0 ã§ã¯ã€ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œã„ã¤ã€ã©ã®ã‚ˆã†ã«èªè¨¼ã•ã‚ŒãŸã‹ã€ã¨ã„ã†æƒ…å ±ã‚’ä¼ãˆã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚
    * OIDC ã¯ãã®æ¬ è½ã—ãŸãƒ”ãƒ¼ã‚¹ï¼ˆèªè¨¼ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼‰ã‚’è£œå®Œã—ã€èªè¨¼æƒ…å ±ã‚’ä¼é”ã™ã‚‹ä»•çµ„ã¿ã‚’å°Žå…¥ã—ã¾ã™ã€‚

> [!IMPORTANT]
> æœ¬ä»•æ§˜æ›¸ã¯ã€èª­è€…ãŒ RFC6749 ãŠã‚ˆã³ RFC6750 ã«ç²¾é€šã—ã¦ã„ã‚‹ã“ã¨ã‚’å‰æã¨ã—ã¦ã„ã¾ã™ã€‚

## 2.2 å®Ÿè£…ã®ä»•çµ„ã¿ã¨ç”¨èªžå®šç¾©

### 1. èªè¨¼ã®æœ‰åŠ¹åŒ–ï¼ˆãƒˆãƒªã‚¬ãƒ¼ï¼‰
OIDC ã¯ OAuth 2.0 ã®èªå¯ãƒ—ãƒ­ã‚»ã‚¹ã‚’æ‹¡å¼µã™ã‚‹å½¢ã§å‹•ä½œã—ã¾ã™ã€‚
* ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒèªå¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼ˆAuthorization Requestï¼‰ã® `scope` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã« **`openid`** ã¨ã„ã†å€¤ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€OIDC ã®æ‹¡å¼µæ©Ÿèƒ½ãŒæœ‰åŠ¹ã«ãªã‚Šã¾ã™ã€‚

### 2. èªè¨¼æƒ…å ±ã®è¿”å´
* **IDãƒˆãƒ¼ã‚¯ãƒ³**: å®Ÿè¡Œã•ã‚ŒãŸèªè¨¼ã®çµæžœã¯ã€**JWT (JSON Web Token)** å½¢å¼ã®ã€ŒIDãƒˆãƒ¼ã‚¯ãƒ³ã€ã¨ã—ã¦è¿”å´ã•ã‚Œã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®èº«å…ƒã‚’å®‰å…¨ã«æ¤œè¨¼ã§ãã¾ã™ã€‚

### 3. ç™»å ´äººç‰©ã®å®šç¾©
OIDC ã®æ–‡è„ˆã§ã¯ã€OAuth 2.0 ã®å„ãƒ­ãƒ¼ãƒ«ã‚’ä»¥ä¸‹ã®åˆ¥åã§å‚ç…§ã—ã¾ã™ã€‚

```mermaid
graph TD
    subgraph OIDC ["OpenID Connect 1.0"]
        A[ID Token / UserInfo / Claims]
    end
    subgraph OAuth ["OAuth 2.0"]
        B[Access Token / Scopes]
    end
    subgraph HTTP ["Transport Layer"]
        C[HTTP / TLS]
    end
    OIDC -->|Extension| OAuth
    OAuth -->|Base| HTTP
```

| OAuth 2.0 ã«ãŠã‘ã‚‹å‘¼ç§° | OIDC ã«ãŠã‘ã‚‹å‘¼ç§° | ç•¥ç§° | å½¹å‰² |
| :--- | :--- | :--- | :--- |
| **Authorization Server** | **OpenID Provider** | **OP** | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’èªè¨¼ã—ã€IDãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç™ºè¡Œã™ã‚‹ã‚µãƒ¼ãƒãƒ¼ |
| **Client** | **Relying Party** | **RP** | èªè¨¼çµæžœï¼ˆIDãƒˆãƒ¼ã‚¯ãƒ³ï¼‰ã‚’ä¿¡é ¼ã—ã¦åˆ©ç”¨ã™ã‚‹ã‚¢ãƒ—ãƒª |


## 2.3 äº‹å‰æº–å‚™ï¼ˆäº‹å‰æ¡ä»¶ï¼‰

RP ãŒãƒ•ãƒ­ãƒ¼ã‚’é–‹å§‹ã™ã‚‹å‰ã«ã€ä»¥ä¸‹ã®æº–å‚™ãŒå®Œäº†ã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```mermaid
sequenceDiagram
    autonumber
    participant RP as Relying Party (RP)
    participant OP as OpenID Provider (OP)

    Note over RP, OP: Step 1: Discovery (æ§‹æˆæƒ…å ±ã®å–å¾—)
    RP->>OP: .well-known/openid-configuration ã¸ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
    OP-->>RP: ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆURLç­‰ã®æƒ…å ±è¿”å´

    Note over RP, OP: Step 2: Registration (ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç™»éŒ²)
    RP->>OP: Client Metadata (Redirect URIç­‰) ã®æä¾›
    OP-->>RP: client_id / client_secret ã®ç™ºè¡Œ

    Note over RP, OP: æº–å‚™å®Œäº† -> èªè¨¼ãƒ•ãƒ­ãƒ¼é–‹å§‹ã¸
```

### 1. OP æ§‹æˆæƒ…å ±ã®å–å¾—
RP ã¯ OP ã®å„ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®å ´æ‰€ï¼ˆURLï¼‰ã‚’ã‚ã‚‰ã‹ã˜ã‚æŠŠæ¡ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
* **å¿…è¦ãªæƒ…å ±**: èªå¯ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã€ãƒˆãƒ¼ã‚¯ãƒ³ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã€ãŠã‚ˆã³ã‚µãƒãƒ¼ãƒˆæ©Ÿèƒ½ã®ãƒªã‚¹ãƒˆã€‚
* **å–å¾—æ–¹æ³•**: é€šå¸¸ã¯ **OpenID Connect Discovery 1.0** ã«åŸºã¥ããƒ‡ã‚£ã‚¹ã‚«ãƒãƒªæ©Ÿèƒ½ã‚’ä½¿ç”¨ã—ã¾ã™ãŒã€æ‰‹å‹•è¨­å®šç­‰ã®ä»–æ‰‹æ®µã‚‚è¨±å®¹ã•ã‚Œã¾ã™ã€‚

### 2. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç™»éŒ² (Client Registration)
RP ã¯ OP ã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã®è³‡æ ¼æƒ…å ±ã‚’å–å¾—ã—ã€å¿…è¦ãªæƒ…å ±ã‚’ OP ã¸æä¾›æ¸ˆã¿ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
* **ã‚„ã‚Šå–ã‚Šã•ã‚Œã‚‹æƒ…å ±**: `client_id` / `client_secret`ï¼ˆOPã‹ã‚‰ç™ºè¡Œï¼‰ã€ãŠã‚ˆã³ `Redirect URI`ï¼ˆRPã‹ã‚‰æä¾›ï¼‰ã€‚
* **ç™»éŒ²æ–¹æ³•**: **OpenID Connect Dynamic Client Registration 1.0** ã«ã‚ˆã‚‹å‹•çš„ç™»éŒ²ã€ã¾ãŸã¯ç®¡ç†ç”»é¢ç­‰ã§ã®æ‰‹å‹•ç™»éŒ²ã€‚

## 2.4 ç”¨èªžã®å®šç¾©ã¨å‚ç…§å…ˆ

æœ¬ä»•æ§˜æ›¸ã§ä½¿ç”¨ã•ã‚Œã‚‹ä¸»è¦ãªç”¨èªžã¯ã€ä»¥ä¸‹ã®æ¨™æº–ä»•æ§˜ã«åŸºã¥ã„ã¦ã„ã¾ã™ã€‚

| å‚ç…§å…ˆä»•æ§˜ | ä¸»ãªå®šç¾©ç”¨èªž |
| :--- | :--- |
| **OAuth 2.0** | Access Token, Authorization Code, Authorization Server, Client, Grant Type, etc. |
| **JWT** | Claim Name, Claim Value, JWT Claims Set, Nested JWT, etc. |
| **JWS** | Base64url Encoding, Header Parameter, JOSE Header |
| **RFC 7230** | User Agent |
| **OAuth.Responses** | Response Mode |

> [!TIP]
> ã“ã‚Œã‚‰ã®ç”¨èªžã®åŽ³å¯†ãªå®šç¾©ã‚’ç¢ºèªã—ãŸã„å ´åˆã¯ã€ãã‚Œãžã‚Œã®ãƒªãƒ³ã‚¯å…ˆï¼ˆRFCç­‰ï¼‰ã®å®šç¾©ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## 2.5 ç‹¬è‡ªã«å®šç¾©ã•ã‚Œã‚‹ç”¨èªž

OpenID Connectã§ã¯ã€å¤–éƒ¨ä»•æ§˜ã®å‚ç…§ã«åŠ ãˆã€ä»¥ä¸‹ã®ç”¨èªžã‚’ç‹¬è‡ªã«å®šç¾©ã—ã¾ã™ã€‚

å„ç”¨èªžã«ã¯ã€ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢è¦–ç‚¹ã§ã®è£œè¶³æƒ…å ±ã‚’ä»¥ä¸‹ã®å½¢å¼ã§è¨˜è¼‰ã—ã¦ã„ã¾ã™ã€‚
> [!IMPORTANT]
> **æ¦‚å¿µã®æ ¸å¿ƒãƒ»æœ€é‡è¦ãƒã‚¤ãƒ³ãƒˆ**ï¼šèªè¨¼ã®æ ¹å¹¹ã«é–¢ã‚ã‚‹ã€çµ¶å¯¾ã«å¤–ã›ãªã„çŸ¥è­˜ã§ã™ã€‚

> [!TIP]
> **å®Ÿè£…ã®ãƒ’ãƒ³ãƒˆãƒ»å®Ÿå‹™çš„ãªçŸ¥æµ**ï¼šã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãéš›ã‚„è¨­è¨ˆæ™‚ã«å½¹ç«‹ã¤å…·ä½“çš„ãªã‚¢ãƒ‰ãƒã‚¤ã‚¹ã§ã™ã€‚

> [!NOTE]
> **è£œè¶³æƒ…å ±ãƒ»è±†çŸ¥è­˜**ï¼šå®šç¾©ã‚’ã‚ˆã‚Šæ·±ãç†è§£ã™ã‚‹ãŸã‚ã®èƒŒæ™¯ã‚„ã€é–¢é€£ã™ã‚‹å‘¨è¾ºçŸ¥è­˜ã§ã™ã€‚

### ä¸»è¦ç”¨èªžã®å®šç¾©

> [!IMPORTANT]
> #### ðŸ“– èª­è€…ã¸ã®é‡è¦äº‹é … (Normative Note)
> 
> ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ç”¨èªžå®šç¾©ã¯ã€æœ¬ä»•æ§˜ã®**è¦ç¯„çš„ (Normative)** ãªéƒ¨åˆ†ã§ã‚ã‚Šã€å®Ÿè£…ã«å¯¾ã—ã¦å…·ä½“çš„ãªè¦ä»¶ã‚’èª²ã™ã‚‚ã®ã§ã™ã€‚
> 
> * æœ¬æ–‡ä¸­ã§ **ã€Œç™ºè¡Œè€…è­˜åˆ¥å­ (Issuer Identifier)ã€** ã®ã‚ˆã†ã«å¤§æ–‡å­—ã§å§‹ã¾ã‚‹ï¼ˆã‚ã‚‹ã„ã¯å›ºæœ‰åè©žåŒ–ã•ã‚ŒãŸï¼‰å˜èªžã¯ã€ã™ã¹ã¦ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å®šç¾©ã‚’å‚ç…§ã—ã¦ã„ã¾ã™ã€‚
> * ã“ã‚Œã‚‰ã®ç”¨èªžã«é­é‡ã—ãŸéš›ã¯ã€å¿…ãšæœ¬ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®å®šç¾©ã«å¾“ã£ã¦è§£é‡ˆã—ã¦ãã ã•ã„ã€‚

* **ACR: Authentication Context Class Reference (èªè¨¼ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹)**
    * èªè¨¼ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’æŒ‡ã—ç¤ºã™ãŸã‚ã®è­˜åˆ¥å­ï¼ˆé€šå¸¸ã¯ URI ã‚„ç‰¹å®šã®æ–‡å­—åˆ—ï¼‰ã€‚
    * **å®Ÿä¾‹:** IDãƒˆãƒ¼ã‚¯ãƒ³å†…ã® `acr` ã‚¯ãƒ¬ãƒ¼ãƒ ã«ã¯ã€`"https://refeds.org/profile/mfa"` ã‚„ `"0"` (ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰èªè¨¼ã®ã¿) ã¨ã„ã£ãŸå€¤ãŒå…¥ã‚Šã¾ã™ã€‚
    * **å½¹å‰²:** RP ã¯ã“ã®ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚’ç¢ºèªã™ã‚‹ã“ã¨ã§ã€ã©ã®ã‚ˆã†ãªå¼·åº¦ã®èªè¨¼ãŒè¡Œã‚ã‚ŒãŸã‹ã‚’åˆ¤æ–­ã—ã¾ã™ã€‚
* **Authentication (èªè¨¼)**
    * ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼ˆåˆ©ç”¨è€…ãªã©ã®å®Ÿä½“ï¼‰ã¨ã€æç¤ºã•ã‚ŒãŸã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼ˆIDç­‰ã®èº«åˆ†æƒ…å ±ï¼‰ã®çµã³ã¤ãã«å¯¾ã—ã¦ã€ååˆ†ãªç¢ºä¿¡ã‚’å¾—ã‚‹ãŸã‚ã«è¡Œã‚ã‚Œã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã€‚
    > [!IMPORTANT]
    > **ðŸ’¡ è±†çŸ¥è­˜ï¼š Authentication vs Authorization**
    > 
    > OIDCã®å­¦ç¿’ã«ãŠã„ã¦ã€ã“ã“ãŒæœ€å¤§ã®æ··ä¹±ãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚
    > * **Authentication (èªè¨¼):** ã€Œã‚ãªãŸã¯èª°ï¼Ÿã€ã‚’ç¢ºèªã™ã‚‹ï¼ˆä»Šå›žã®å®šç¾©ï¼‰ã€‚
    > * **Authorization (èªå¯):** ã€Œã‚ãªãŸã«ã“ã®æ“ä½œã‚’ã™ã‚‹æ¨©é™ã¯ã‚ã‚‹ï¼Ÿã€ã‚’ç¢ºèªã™ã‚‹ã€‚
    > 
    > OIDCã¯ã€OAuth 2.0ï¼ˆèªå¯ï¼‰ã®ä»•çµ„ã¿ã‚’ä½¿ã„ãªãŒã‚‰ã€ã“ã® **Authenticationï¼ˆèªè¨¼ï¼‰** ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã®ä»•æ§˜ã§ã‚ã‚‹ã“ã¨ã‚’å†ç¢ºèªã—ã¦ãŠãã¨ã€ã“ã®å¾Œã®èª­è§£ãŒã‚¹ãƒ ãƒ¼ã‚ºã«ãªã‚Šã¾ã™ã€‚
* **Authentication Context (èªè¨¼ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ)**
    * RP ãŒã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ã®åˆ¤æ–­ã‚’ä¸‹ã™éš›ã«ã€OP ã«å¯¾ã—ã¦è¦æ±‚ã§ãã‚‹è¿½åŠ æƒ…å ±ã€‚
    * **å†…å®¹ä¾‹:**
        * ã©ã®ã‚ˆã†ãªèªè¨¼æ–¹æ³•ï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã€ç”Ÿä½“èªè¨¼ã€ç­‰ï¼‰ãŒä½¿ã‚ã‚ŒãŸã‹ã€‚
        * èªè¨¼ã®ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«ï¼ˆLoA: Level of Assuranceï¼‰ã€‚
    * **ç›®çš„:** å˜ã«ã€Œèª°ã‹ã€ã‚’çŸ¥ã‚‹ã ã‘ã§ãªãã€ã€Œã©ã®ç¨‹åº¦åŽ³æ ¼ã«æœ¬äººç¢ºèªã•ã‚ŒãŸã‹ã€ã‚’ RP ãŒæŠŠæ¡ã™ã‚‹ãŸã‚ã«åˆ©ç”¨ã•ã‚Œã‚‹ã€‚
* **Authentication Context Class (èªè¨¼ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¯ãƒ©ã‚¹)**
    * è¤‡æ•°ã®èªè¨¼æ‰‹æ³•ï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã€ç”Ÿä½“èªè¨¼ã€ãƒ¯ãƒ³ã‚¿ã‚¤ãƒ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç­‰ï¼‰ã‚’ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®å¼·åº¦ã‚„æ€§è³ªã«åŸºã¥ã„ã¦ã€ŒåŒç­‰ãªã‚‚ã®ã€ã¨ã—ã¦ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã—ãŸå˜ä½ã€‚
    * **å½¹å‰²:** RP ã¯ã€Œå…·ä½“çš„ãªæ‰‹æ³•ï¼ˆæŒ‡ç´‹ã‹é¡”ã‹ï¼‰ã€ã‚’æŒ‡å®šã™ã‚‹ä»£ã‚ã‚Šã«ã€ã€Œã“ã®ãƒ¬ãƒ™ãƒ«ï¼ˆã‚¯ãƒ©ã‚¹ï¼‰ä»¥ä¸Šã®èªè¨¼ã‚’ã—ã¦ã»ã—ã„ã€ã¨è¦æ±‚ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
    > [!TIP]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š å®Ÿå‹™ã§ã®æ´»ç”¨ï¼šacr ã‚¯ãƒ¬ãƒ¼ãƒ **
    >
    > å®Ÿéš›ã® OIDC ã®é€šä¿¡ã§ã¯ã€ã“ã®èªè¨¼ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¯ **`acr`** ã¨ã„ã†ã‚¯ãƒ¬ãƒ¼ãƒ ã¨ã—ã¦ ID ãƒˆãƒ¼ã‚¯ãƒ³ã®ä¸­ã«ç¾ã‚Œã¾ã™ã€‚
    >
    > ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¨ã—ã¦å®Ÿè£…ã™ã‚‹éš›ã¯ã€ã€ŒIDãƒˆãƒ¼ã‚¯ãƒ³ã®ä¸­ã® `acr` ã®å€¤ã‚’ç¢ºèªã—ã€å¤šè¦ç´ èªè¨¼ï¼ˆMFAï¼‰ãŒå®Œäº†ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¤ºã™å€¤ãŒå«ã¾ã‚Œã¦ã„ãªã‘ã‚Œã°ã€é‡è¦ãªæ“ä½œãƒšãƒ¼ã‚¸ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’åˆ¶é™ã™ã‚‹ã€ã¨ã„ã£ãŸ,å‹•çš„ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ¶å¾¡ã‚’è¡Œã†ãŸã‚ã«æ´»ç”¨ã•ã‚Œã¾ã™ã€‚
* **Authentication Request (èªè¨¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆ)**
    * OAuth 2.0 ã®èªå¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€OIDC ç‹¬è‡ªã®æ‹¡å¼µãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã‚¹ã‚³ãƒ¼ãƒ—ï¼ˆ`openid`ãªã©ï¼‰ã‚’åŠ ãˆãŸã‚‚ã®ã€‚
    * **ç›®çš„:** RPï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼‰ãŒã€OPï¼ˆèªå¯ã‚µãƒ¼ãƒãƒ¼ï¼‰ã«å¯¾ã—ã¦ã€ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®èº«å…ƒã‚’ç¢ºèªï¼ˆèªè¨¼ï¼‰ã™ã‚‹ã‚ˆã†è¦æ±‚ã™ã‚‹ãŸã‚ã«è¡Œã‚ã‚Œã‚‹ã€‚
    > [!IMPORTANT]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼šã“ã®å®šç¾©ã®é‡è¦ãƒã‚¤ãƒ³ãƒˆ**
    >
    > ã“ã®ä¸€æ–‡ã¯ã€**ã€Œèªè¨¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ã€å®Ÿã¯ OAuth 2.0 ã®èªå¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆãã®ã‚‚ã®ã§ã‚ã‚‹ï¼ˆãŸã ã—æ‹¡å¼µã•ã‚Œã¦ã„ã‚‹ï¼‰ã€**ã¨ã„ã†äº‹å®Ÿã‚’ä¼ãˆã¦ã„ã¾ã™ã€‚
    >
    > ã€Œèªè¨¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ã¨ã„ã†å…¨ãæ–°ã—ã„ä»•çµ„ã¿ã‚’ã‚¼ãƒ­ã‹ã‚‰ä½œã‚‹ã®ã§ã¯ãªãã€æ—¢å­˜ã®ã€Œèªå¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ã« `scope=openid` ãªã©ã®è¿½åŠ æƒ…å ±ã‚’ä»˜ã‘è¶³ã™ã ã‘ã§èªè¨¼ã‚’å®Ÿç¾ã™ã‚‹ã€ã¨ã„ã†OIDCã®åŠ¹çŽ‡çš„ãªè¨­è¨ˆæ€æƒ³ãŒã“ã“ã«ç¾ã‚Œã¦ã„ã¾ã™ã€‚
* **Authorization Code Flow (èªå¯ã‚³ãƒ¼ãƒ‰ãƒ•ãƒ­ãƒ¼)**
    * OAuth 2.0 ã®ä¸»è¦ãªãƒ•ãƒ­ãƒ¼ã®ä¸€ã¤ã€‚
    * **ç‰¹å¾´:** 1. èªå¯ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‹ã‚‰ã¾ãšã€Œèªå¯ã‚³ãƒ¼ãƒ‰ã€ã‚’å—ã‘å–ã‚‹ã€‚
        2. ãã®ã‚³ãƒ¼ãƒ‰ã‚’ãƒˆãƒ¼ã‚¯ãƒ³ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¸æç¤ºã—ã€å¼•ãæ›ãˆã«ã™ã¹ã¦ã®ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆIDãƒˆãƒ¼ã‚¯ãƒ³ã€ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ç­‰ï¼‰ã‚’å—ã‘å–ã‚‹ã€‚
    * **ãƒ¡ãƒªãƒƒãƒˆ:** ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ä»‹ã•ãšã«ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚„ã‚Šå–ã‚Šã™ã‚‹ãŸã‚ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åº¦ãŒé«˜ã„ã€‚
    > [!TIP]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š ãªãœ "all tokens" ãªã®ã‹ï¼Ÿ**
    >
    > OIDC ã«ã¯ä»–ã«ã‚‚ã€Œã‚¤ãƒ³ãƒ—ãƒªã‚·ãƒƒãƒˆãƒ•ãƒ­ãƒ¼ï¼ˆImplicit Flowï¼‰ã€ã¨ã„ã†ã‚‚ã®ãŒã‚ã‚Šã€ãã¡ã‚‰ã¯èªå¯ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‹ã‚‰ç›´æŽ¥ãƒˆãƒ¼ã‚¯ãƒ³ãŒè¿”ã£ã¦ãã¾ã™ã€‚
    > ãã‚Œã¨æ¯”è¼ƒã—ã¦ã€**ã€Œèªå¯ã‚³ãƒ¼ãƒ‰ãƒ•ãƒ­ãƒ¼ã¯ã€å¤§äº‹ãªãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚„IDãƒˆãƒ¼ã‚¯ãƒ³ï¼‰ã¯ã™ã¹ã¦ã€ã‚ˆã‚Šå®‰å…¨ãªã€Žãƒˆãƒ¼ã‚¯ãƒ³ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã€ã‹ã‚‰å‡ºã™ã‚“ã ã‚ˆã€**ã¨å¼·èª¿ã—ã¦ã„ã‚‹ã®ãŒã€ã“ã®å®šç¾©ã®ä¸€ç•ªã®ãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚
* **Authorization Request (èªå¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆ)**
    * OAuth 2.0 ([RFC6749]) ã«ã‚ˆã£ã¦å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã€ãƒªã‚½ãƒ¼ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ¨©ã‚’è¦æ±‚ã™ã‚‹æ¨™æº–çš„ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆã€‚
* **Claim (ã‚¯ãƒ¬ãƒ¼ãƒ )**
    * ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ç­‰ï¼‰ã«é–¢ã—ã¦ã€ç™ºè¡Œè€…ãŒã€Œæ­£ã—ã„ã€ã¨æ–­è¨€ï¼ˆä¸»å¼µï¼‰ã™ã‚‹æƒ…å ±ã®ä¸€é …ç›®ã€‚
    * **ä¾‹:** `name`: `Jane Doe` ã¨ã„ã†ãƒšã‚¢ã¯ã€ã€Œã“ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®åå‰ã¯ Jane Doe ã§ã‚ã‚‹ã€ã¨ã„ã†ä¸€ã¤ã®ã‚¯ãƒ¬ãƒ¼ãƒ ã§ã™ã€‚
    > [!TIP]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼šãªãœ "Piece" ãªã®ã‹**
    >
    > IDãƒˆãƒ¼ã‚¯ãƒ³ã‚„ UserInfo ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¯ã€å…¨ä½“ã¨ã—ã¦è¤‡æ•°ã® Claimsï¼ˆè¤‡æ•°å½¢ï¼‰ã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ã€‚
    > ãã®ä¸­ã®ä¸€ã¤ã²ã¨ã¤ï¼ˆåå‰ã€ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã€èª•ç”Ÿæ—¥ãªã©ï¼‰ã®**æƒ…å ±ã®æ–­ç‰‡**ãŒ `a Piece of information = a Claim` ã§ã™ã€‚
    > 
    > ãƒ‘ã‚ºãƒ«ã®ãƒ”ãƒ¼ã‚¹ï¼ˆClaimï¼‰ã‚’çµ„ã¿åˆã‚ã›ã¦ã€ä¸€ã¤ã®ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼ˆIdentityï¼‰ã¨ã„ã†çµµã‚’å®Œæˆã•ã›ã¦ã„ã‚‹ã¨ã‚¤ãƒ¡ãƒ¼ã‚¸ã™ã‚‹ã¨åˆ†ã‹ã‚Šã‚„ã™ã„ã§ã—ã‚‡ã†ã€‚
* **Claim Type (ã‚¯ãƒ¬ãƒ¼ãƒ ã‚¿ã‚¤ãƒ—)**
    * ã‚¯ãƒ¬ãƒ¼ãƒ å€¤ã‚’è¡¨ç¾ã™ã‚‹ãŸã‚ã®ãƒ‡ãƒ¼ã‚¿å½¢å¼ã€‚
    * **å®šç¾©ã•ã‚Œã¦ã„ã‚‹ç¨®é¡ž:**
        * **Normal:** OP ãŒç›´æŽ¥ä¿æŒã—ã€ãƒˆãƒ¼ã‚¯ãƒ³ã«å«ã‚ã‚‹å€¤ã€‚
        * **Aggregated:** OP ãŒå¤–éƒ¨ã‹ã‚‰åŽé›†ã—ã€ç½²åã‚’ä»˜ä¸Žã—ã¦å«ã‚ã‚‹å€¤ã€‚
        * **Distributed:** å€¤ãã®ã‚‚ã®ã§ã¯ãªãã€å–å¾—å…ˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¸ã®å‚ç…§ã€‚
* **Claims Provider (ã‚¯ãƒ¬ãƒ¼ãƒ ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼)**
    * ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã«é–¢ã™ã‚‹ã‚¯ãƒ¬ãƒ¼ãƒ ã‚’è¿”å´ã™ã‚‹èƒ½åŠ›ã‚’æŒã¤ã‚µãƒ¼ãƒãƒ¼ã€‚
    * **è£œè¶³:** é€šå¸¸ã¯ OpenID ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ (OP) ãŒã“ã®å½¹å‰²ã‚’æ‹…ã„ã¾ã™ãŒã€å¤–éƒ¨ã®å±žæ€§ç®¡ç†ã‚µãƒ¼ãƒãƒ¼ãŒã“ã®å½¹å‰²ã‚’æžœãŸã™å ´åˆã‚‚ã‚ã‚Šã¾ã™ã€‚
* **Credential (ã‚¯ãƒ¬ãƒ‡ãƒ³ã‚·ãƒ£ãƒ« / è³‡æ ¼æƒ…å ±)**
    * ç‰¹å®šã®ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚„ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹æ¨©é™ãŒã‚ã‚‹ã“ã¨ã‚’è¨¼æ˜Žã™ã‚‹ãŸã‚ã«æç¤ºã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã€‚
    * **ä¾‹:** ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã€ç§˜å¯†éµï¼ˆClient Secretï¼‰ã€ã‚¢ã‚¯ã‚»ã‚¹è¨±å¯ã®ãŸã‚ã®è¨¼æ˜Žæ›¸ãªã©ã€‚
    > [!TIP]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š Credential ã¨ Identity**
    > 
    > ä¸¡è€…ã®é•ã„ã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«è¡¨ã™ã¨ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
    > * **Identityï¼ˆã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼‰**: ã€Œç§ã¯ç”°ä¸­ã§ã™ã€ã¨ã„ã†**ä¸»å¼µ**ã€‚
    > * **Credentialï¼ˆã‚¯ãƒ¬ãƒ‡ãƒ³ã‚·ãƒ£ãƒ«ï¼‰**: ã€Œç”°ä¸­æœ¬äººã§ã‚ã‚‹ã“ã¨ã®**è¨¼æ‹ **ï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã©ï¼‰ã€ã€‚
    > 
    > ã“ã®ã€Œè¨¼æ‹ ã€ã‚’æç¤ºã—ã¦ã€Œä¸»å¼µã€ãŒæ­£ã—ã„ã¨èªã‚ã‚‰ã‚Œã‚‹ã“ã¨ã§ã€èªè¨¼ãŒå®Œäº†ã—ã¾ã™ã€‚
* **End-User (ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼)**
    * ä¸€é€£ã®ãƒ—ãƒ­ã‚»ã‚¹ã«ãŠã‘ã‚‹ã€Œäººé–“ã®å‚åŠ è€…ã€ã€‚
    * **è£œè¶³:** ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚„ã‚µãƒ¼ãƒãƒ¼ï¼‰ã§ã¯ãªãã€å®Ÿéš›ã«èªè¨¼ã®å¯¾è±¡ã¨ãªã‚‹ç”Ÿèº«ã®äººé–“ã®ã“ã¨ã‚’æŒ‡ã—ã¾ã™ã€‚
    > [!TIP]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š OIDCã«ãŠã‘ã‚‹End-Userã®å½¹å‰²**
    > 
    > OIDCã®ãƒ•ãƒ­ãƒ¼ã«ãŠã„ã¦ã€ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ä¸»ã«ä»¥ä¸‹ã®2ã¤ã®é‡è¦ãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’è¡Œã„ã¾ã™ã€‚
    > 
    > 1. **Authentication (èªè¨¼)**: OPã«å¯¾ã—ã¦è‡ªåˆ†è‡ªèº«ã®è¨¼æ˜Žï¼ˆãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›ã€ç”Ÿä½“èªè¨¼ãªã©ï¼‰ã‚’è¡Œã†ã€‚
    > 2. **Consent (åŒæ„)**: è‡ªåˆ†ã®æƒ…å ±ï¼ˆåå‰ã‚„ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãªã©ï¼‰ã‚’ã€RPï¼ˆã‚¢ãƒ—ãƒªï¼‰ã«æ¸¡ã—ã¦ã‚ˆã„ã‹æ‰¿èªãƒ»åŒæ„ã™ã‚‹ã€‚
    > 
    > ã“ã®ã‚ˆã†ã«ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯å˜ã«ã€Œãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã€ã ã‘ã§ãªãã€æƒ…å ±ã®å—ã‘æ¸¡ã—ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã™ã‚‹ä¸»ä½“ã¨ã—ã¦ã®å½¹å‰²ã‚’æŒã£ã¦ã„ã¾ã™ã€‚
* **Entity (ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£)**
    * ç‹¬ç«‹ã—ãŸå€‹åˆ¥ã®å­˜åœ¨ã‚’æŒã¡ã€ç‰¹å®šã®æ–‡è„ˆã«ãŠã„ã¦è­˜åˆ¥ãŒå¯èƒ½ãªã‚‚ã®ã€‚
    * **ä¾‹:** ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆäººé–“ï¼‰ã¯ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®ä»£è¡¨çš„ãªä¸€ä¾‹ã§ã™ãŒã€æ–‡è„ˆã«ã‚ˆã£ã¦ã¯ãƒ‡ãƒã‚¤ã‚¹ã‚„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è‡ªä½“ãŒã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã¨ãªã‚‹å ´åˆã‚‚ã‚ã‚Šã¾ã™ã€‚
* **Essential Claim (ä¸å¯æ¬ ãªã‚¯ãƒ¬ãƒ¼ãƒ )**
    * ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆRPï¼‰ãŒã€ç‰¹å®šã®æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ãŸã‚ã«ã€Œå¿…é ˆã§ã‚ã‚‹ã€ã¨æŒ‡å®šã—ãŸã‚¯ãƒ¬ãƒ¼ãƒ ã€‚
    * **å½¹å‰²:** ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é©åˆ‡ãªèªå¯ãƒ—ãƒ­ã‚»ã‚¹ã‚’æä¾›ã—ã€ã‚¹ãƒ ãƒ¼ã‚ºãªã‚µãƒ¼ãƒ“ã‚¹åˆ©ç”¨ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ï¼‰ã‚’ç¢ºä¿ã™ã‚‹ãŸã‚ã«åˆ©ç”¨ã•ã‚Œã‚‹ã€‚
* **Hybrid Flow (ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ãƒ•ãƒ­ãƒ¼)**
    * OAuth 2.0 ã®ãƒ•ãƒ­ãƒ¼ã®ä¸€ã¤ã§ã€èªå¯ã‚³ãƒ¼ãƒ‰ãƒ•ãƒ­ãƒ¼ã¨ã‚¤ãƒ³ãƒ—ãƒªã‚·ãƒƒãƒˆãƒ•ãƒ­ãƒ¼ã‚’çµ„ã¿åˆã‚ã›ãŸã‚‚ã®ã€‚
    * **ç‰¹å¾´:** * èªå¯ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆãƒ•ãƒ­ãƒ³ãƒˆãƒãƒ£ãƒãƒ«ï¼‰ã‹ã‚‰ã€èªå¯ã‚³ãƒ¼ãƒ‰ã¨ä¸€éƒ¨ã®ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆIDãƒˆãƒ¼ã‚¯ãƒ³ç­‰ï¼‰ã‚’åŒæ™‚ã«å–å¾—ã§ãã‚‹ã€‚
        * ãã®å¾Œã€ãƒˆãƒ¼ã‚¯ãƒ³ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆãƒãƒƒã‚¯ãƒãƒ£ãƒãƒ«ï¼‰ã‹ã‚‰æ®‹ã‚Šã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ã™ã‚‹ã€‚
    * **ãƒ¡ãƒªãƒƒãƒˆ:** ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒå³åº§ã«IDãƒˆãƒ¼ã‚¯ãƒ³ã‚’åˆ©ç”¨ã—ã¤ã¤ã€å®‰å…¨ã«ä»–ã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å–å¾—ã—ãŸã„å ´åˆã«ä½¿ç”¨ã•ã‚Œã‚‹ã€‚
* **ID Token (IDãƒˆãƒ¼ã‚¯ãƒ³)**
    * èªè¨¼ã‚¤ãƒ™ãƒ³ãƒˆã«é–¢ã™ã‚‹æƒ…å ±ã‚’æ ¼ç´ã—ãŸ **JWT (JSON Web Token)**ã€‚
    * **å½¹å‰²:** èªè¨¼ã®çµæžœã¨ã—ã¦ç™ºè¡Œã•ã‚Œã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è­˜åˆ¥å­ï¼ˆsubï¼‰ã‚„èªè¨¼æ™‚åˆ»ï¼ˆiatï¼‰ãªã©ã®ã‚¯ãƒ¬ãƒ¼ãƒ ã‚’é‹ã¶ã€‚
    * **æ‹¡å¼µæ€§:** ä»•æ§˜ã§å®šã‚ã‚‰ã‚ŒãŸå¿…é ˆã‚¯ãƒ¬ãƒ¼ãƒ ä»¥å¤–ã«ã‚‚ã€ä»»æ„ã®è¿½åŠ æƒ…å ±ã‚’ã€Œä»–ã®ã‚¯ãƒ¬ãƒ¼ãƒ ã€ã¨ã—ã¦å«ã‚ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚
    > [!TIP]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š JWTã§ã‚ã‚‹ã“ã¨ã®æ„å‘³**
    >
    > IDãƒˆãƒ¼ã‚¯ãƒ³ãŒ JWT å½¢å¼ã‚’æŽ¡ç”¨ã—ã¦ã„ã‚‹ã“ã¨ã«ã¯ã€æŠ€è¡“çš„ã«å¤§ããªãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã¾ã™ã€‚
    >
    > 1. **Base64URLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰:** ç‰¹æ®Šãªæ–‡å­—ãŒå«ã¾ã‚Œãªã„ãŸã‚ã€URLã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚„HTTPãƒ˜ãƒƒãƒ€ãƒ¼ã«è¼‰ã›ã¦å®‰å…¨ã«è»¢é€ã§ãã¾ã™ã€‚
    > 2. **ç½²åï¼ˆJWSï¼‰:** ç¬¬ä¸‰è€…ã«ã‚ˆã‚‹ãƒ‡ãƒ¼ã‚¿ã®æ›¸ãæ›ãˆï¼ˆæ”¹ã–ã‚“ï¼‰ã‚’æ•°å­¦çš„ã«æ¤œçŸ¥ã§ãã‚‹ãŸã‚ã€å—ã‘å–ã£ãŸãƒ‡ãƒ¼ã‚¿ãŒæœ¬ç‰©ã§ã‚ã‚‹ã¨ç¢ºä¿¡ã§ãã¾ã™ã€‚
    > 3. **JSONå½¢å¼:** å¤šãã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªžã§æ¨™æº–çš„ã«ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹å½¢å¼ãªã®ã§ã€ãƒ‡ãƒ¼ã‚¿ã®è§£æžï¼ˆãƒ‘ãƒ¼ã‚¹ï¼‰ã‚„å–ã‚Šæ‰±ã„ãŒå®¹æ˜“ã§ã™ã€‚
* **Identifier (è­˜åˆ¥å­)**
    * ç‰¹å®šã®æ–‡è„ˆï¼ˆã‚·ã‚¹ãƒ†ãƒ ã‚„ãƒ‰ãƒ¡ã‚¤ãƒ³ç­‰ï¼‰ã«ãŠã„ã¦ã€ã‚ã‚‹ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚’ä¸€æ„ã«ç‰¹å®šãƒ»è­˜åˆ¥ã™ã‚‹ãŸã‚ã®å€¤ã€‚
    * **OIDCã«ãŠã‘ã‚‹ä»£è¡¨ä¾‹:** `sub` (Subject) ã‚¯ãƒ¬ãƒ¼ãƒ ã€‚ã“ã‚Œã¯ OP å†…ã§ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä¸€æ„ã«è­˜åˆ¥ã™ã‚‹ãŸã‚ã®è­˜åˆ¥å­ã§ã™ã€‚
* **Identity (ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£)**
    * ã‚ã‚‹ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã«é–¢é€£ä»˜ã‘ã‚‰ã‚ŒãŸã€Œå±žæ€§ï¼ˆAttributeï¼‰ã®é›†åˆã€ã€‚
    * **è£œè¶³:** OIDC ã«ãŠã„ã¦ã¯ã€IDãƒˆãƒ¼ã‚¯ãƒ³ã‚„ UserInfo ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«å«ã¾ã‚Œã‚‹è¤‡æ•°ã®ã‚¯ãƒ¬ãƒ¼ãƒ ã®é›†ã¾ã‚ŠãŒã€ãã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‡ã‚¸ã‚¿ãƒ«ãªã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã¨ãªã‚Šã¾ã™ã€‚
    > [!TIP]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š ãªãœã€Œå±žæ€§ã®ã‚»ãƒƒãƒˆã€ãªã®ã‹ï¼Ÿ**
    >
    > ãƒ‡ã‚¸ã‚¿ãƒ«ä¸Šã®ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã¯ã€å¿…ãšã—ã‚‚ã€Œãã®äººã®ã™ã¹ã¦ã€ã‚’æŒ‡ã™ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
    > 
    > * **éŠ€è¡Œç”¨ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£:** å£åº§ç•ªå·ã€ä½æ‰€ã€æœ¬åãªã©
    > * **SNSç”¨ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£:** ãƒãƒ³ãƒ‰ãƒ«ãƒãƒ¼ãƒ ã€ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒãªã©
    > 
    > ã“ã®ã‚ˆã†ã«ã€**ãã®æ–‡è„ˆï¼ˆContextï¼‰ã§å¿…è¦ãªå±žæ€§ã®ã‚»ãƒƒãƒˆ**ãŒã€ãã®å ´ã§ã®ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã¨ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚OIDCãŒã€ŒClaimã®ã‚»ãƒƒãƒˆã€ã¨ã—ã¦Identityã‚’å®šç¾©ã—ã¦ã„ã‚‹ã®ã¯ã€åˆ©ç”¨ã‚·ãƒ¼ãƒ³ã«å¿œã˜ã¦é©åˆ‡ãªæƒ…å ±ã ã‘ã‚’å—ã‘æ¸¡ã—ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã§ã™ã€‚
* **Implicit Flow (ã‚¤ãƒ³ãƒ—ãƒªã‚·ãƒƒãƒˆãƒ•ãƒ­ãƒ¼)**
    * èªå¯ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‹ã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¨ã—ã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆãƒãƒ£ãƒãƒ«ï¼‰ã«ç›´æŽ¥ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆIDãƒˆãƒ¼ã‚¯ãƒ³ã‚„ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ï¼‰ã‚’è¿”ã™ OAuth 2.0 ã®ãƒ•ãƒ­ãƒ¼ã€‚

    > [!IMPORTANT]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®æ³¨æ„**
    >
    > ãƒ–ãƒ©ã‚¦ã‚¶ã®å±¥æ­´ã‚„ referrer ãƒ˜ãƒƒãƒ€ãƒ¼ã«ãƒˆãƒ¼ã‚¯ãƒ³ãŒæ®‹ã‚‹ãƒªã‚¹ã‚¯ãŒã‚ã‚‹ãŸã‚ã€ç¾åœ¨ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã§ã¯ã€å¯èƒ½ãªé™ã‚Šã€Œèªå¯ã‚³ãƒ¼ãƒ‰ãƒ•ãƒ­ãƒ¼ï¼ˆ+ PKCEï¼‰ã€ã®ä½¿ç”¨ãŒæŽ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚
* **Issuer (ç™ºè¡Œè€…)**
    * ä¸€é€£ã®ã‚¯ãƒ¬ãƒ¼ãƒ ï¼ˆClaimsï¼‰ã®ã‚»ãƒƒãƒˆã‚’ç™ºè¡Œã™ã‚‹ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼ˆå®Ÿä½“ï¼‰ã€‚OIDCã«ãŠã„ã¦ã¯ä¸»ã« OpenID ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ (OP) ã‚’æŒ‡ã—ã¾ã™ã€‚

    > [!IMPORTANT]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š ä¿¡é ¼ã®èµ·ç‚¹**
    >
    > RPï¼ˆã‚¢ãƒ—ãƒªï¼‰ã¯ã€å—ã‘å–ã£ãŸæƒ…å ±ãŒã€Œèª°ã«ã‚ˆã£ã¦ç™ºè¡Œã•ã‚ŒãŸã‹ã€ã‚’ç¢ºèªã™ã‚‹ã“ã¨ã§ã€ãã®æƒ…å ±ã®æ­£å½“æ€§ã‚’åˆ¤æ–­ã—ã¾ã™ã€‚Issuer ã¯ãã®ä¿¡é ¼ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ãŠã‘ã‚‹ã€Œæƒ…å ±ã®å‡ºæ‰€ã€ã¨ã—ã¦ã®å½¹å‰²ã‚’æ‹…ã„ã¾ã™ã€‚

    > [!NOTE]
    > **ðŸ’¡ è±†çŸ¥è­˜ï¼š IDãƒˆãƒ¼ã‚¯ãƒ³ã«ãŠã‘ã‚‹è¡¨ç¾**
    >
    > IDãƒˆãƒ¼ã‚¯ãƒ³ã®ä¸­ã§ã¯ã€`iss` ã‚¯ãƒ¬ãƒ¼ãƒ ã¨ã—ã¦ã“ã®ç™ºè¡Œè€…ã®è­˜åˆ¥å­ï¼ˆURLï¼‰ãŒè¨˜éŒ²ã•ã‚Œã¾ã™ã€‚
* **Issuer Identifier (ç™ºè¡Œè€…è­˜åˆ¥å­)**
    * ç™ºè¡Œè€…ï¼ˆOPï¼‰ã‚’ä¸€æ„ã«ç‰¹å®šã™ã‚‹ãŸã‚ã®ã€æ¤œè¨¼å¯èƒ½ãªè­˜åˆ¥å­ã€‚
    * **å½¢å¼ã®åˆ¶ç´„:**
        * `https` ã‚¹ã‚­ãƒ¼ãƒ ã‹ã‚‰å§‹ã¾ã‚‹ã€å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã™ã‚‹ URLã€‚
        * ãƒ›ã‚¹ãƒˆåã¾ã§ã¯å¿…é ˆã€‚ãƒãƒ¼ãƒˆç•ªå·ã¨ãƒ‘ã‚¹ã¯ä»»æ„ã€‚
        * **æ³¨æ„:** ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆ`?`ï¼‰ã‚„ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆï¼ˆ`#`ï¼‰ã‚’å«ã‚ã¦ã¯ãªã‚‰ãªã„ã€‚
    * **å½¹å‰²:** IDãƒˆãƒ¼ã‚¯ãƒ³ã® `iss` ã‚¯ãƒ¬ãƒ¼ãƒ ã«ä½¿ç”¨ã•ã‚Œã€ä¿¡é ¼ã§ãã‚‹ç™ºè¡Œè€…ã‹ã©ã†ã‹ã‚’åˆ¤æ–­ã™ã‚‹åŸºæº–ã¨ãªã‚‹ã€‚
    > [!TIP]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š ãªãœã‚¯ã‚¨ãƒªã‚„ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆãŒç¦æ­¢ã•ã‚Œã¦ã„ã‚‹ã®ã‹ï¼Ÿ**
    >
    > ç™ºè¡Œè€…è­˜åˆ¥å­ã‚’**ã€Œã‚·ãƒ³ãƒ—ãƒ«ã‹ã¤ä¸€æ„ãªãƒ™ãƒ¼ã‚¹URLã€**ã«å›ºå®šã™ã‚‹ãŸã‚ã§ã™ã€‚
    > `?` (ã‚¯ã‚¨ãƒª) ã‚„ `#` (ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆ) ã®ã‚ˆã†ãªè¤‡é›‘ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¨±å¯ã—ã¦ã—ã¾ã†ã¨ã€URLã®æ­£è¦åŒ–ï¼ˆãƒ‘ãƒ¼ã‚¹ï¼‰å‡¦ç†ã«ãŠã„ã¦è§£é‡ˆã®ä¸ä¸€è‡´ï¼ˆãƒŸã‚¹ï¼‰ãŒèµ·ãã‚„ã™ããªã‚Šã¾ã™ã€‚
    >
    > ã‚‚ã—è§£é‡ˆãŒç•°ãªã‚‹ã¨ã€IDãƒˆãƒ¼ã‚¯ãƒ³ã®æ¤œè¨¼æ™‚ã« `iss` ã‚¯ãƒ¬ãƒ¼ãƒ ã®æ¯”è¼ƒã«å¤±æ•—ã—ãŸã‚Šã€æ‚ªæ„ã®ã‚ã‚‹æ”»æ’ƒè€…ãŒã‚ãšã‹ã«ç•°ãªã‚‹URLã‚’ä½¿ã£ã¦ãªã‚Šã™ã¾ã—ã‚’è¡Œã†ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ›ãƒ¼ãƒ«ã«ç¹‹ãŒã‚‹ãƒªã‚¹ã‚¯ãŒã‚ã‚‹ãŸã‚ã€ä»•æ§˜ã«ã‚ˆã£ã¦åŽ³æ ¼ã«åˆ¶é™ã•ã‚Œã¦ã„ã¾ã™ã€‚
* **JWT: JSON Web Token**
    * JSON å½¢å¼ã®æƒ…å ±ã‚’ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¸Šã§å®‰å…¨ã«è»¢é€ã™ã‚‹ãŸã‚ã«è¨­è¨ˆã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿è¦æ ¼ï¼ˆ[RFC7519]ï¼‰ã€‚
    * **æ§‹é€ :** ã€Œãƒ˜ãƒƒãƒ€ãƒ¼ã€ã€Œãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ï¼ˆã‚¯ãƒ¬ãƒ¼ãƒ ï¼‰ã€ã€Œç½²åã€ã®3ã¤ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒ‰ãƒƒãƒˆï¼ˆ`.`ï¼‰ã§é€£çµã—ãŸå½¢å¼ã€‚
    > [!TIP]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š JWTã®ãƒ‡ãƒãƒƒã‚°ã®ãƒ’ãƒ³ãƒˆ**
    >
    > JWT ã¯æš—å·åŒ–ã•ã‚Œã¦ã„ãªã‘ã‚Œã°ã€`jwt.io` ãªã©ã®ãƒ„ãƒ¼ãƒ«ã§èª°ã§ã‚‚ä¸­èº«ã‚’è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãã®ãŸã‚ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã©ã®æ©Ÿå¯†æƒ…å ±ã‚’ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰ã«å«ã‚ã¦ã¯ã„ã‘ã¾ã›ã‚“ã€‚
* **Message (ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸)**
    * OpenID ãƒªãƒ©ã‚¤ã‚¤ãƒ³ã‚°ãƒ»ãƒ‘ãƒ¼ãƒ†ã‚£ (RP) ã¨ OpenID ãƒ—ãƒ­ãƒã‚¤ãƒ€ (OP) ã®é–“ã§è¡Œã‚ã‚Œã‚‹ã€Œãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ã¾ãŸã¯ã€Œãƒ¬ã‚¹ãƒãƒ³ã‚¹ã€ã€‚
    > [!NOTE]
    > **ðŸ’¡ è±†çŸ¥è­˜ï¼š é€šä¿¡ã®åŸºæœ¬å˜ä½**
    >
    > OIDCã®ã‚„ã‚Šå–ã‚Šã¯ã€ã“ã®ã€Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€ã‚’ç©ã¿é‡ã­ã‚‹ã“ã¨ã§æˆç«‹ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€RPã‹ã‚‰OPã¸ã®ã€Œèªè¨¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«å¯¾ã—ã€OPã‹ã‚‰RPã¸ã€Œèªè¨¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã€ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¿”ã•ã‚Œã‚‹ã€ã¨ã„ã£ãŸå…·åˆã§ã™ã€‚
* **OP: OpenID Provider (OpenID ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼)**
    * ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’èªè¨¼ã—ã€ãã®èªè¨¼çµæžœï¼ˆèªè¨¼ã‚¤ãƒ™ãƒ³ãƒˆï¼‰ã‚„ãƒ¦ãƒ¼ã‚¶ãƒ¼å±žæ€§ï¼ˆã‚¯ãƒ¬ãƒ¼ãƒ ï¼‰ã‚’ãƒªãƒ©ã‚¤ã‚¤ãƒ³ã‚°ãƒ»ãƒ‘ãƒ¼ãƒ†ã‚£ï¼ˆRPï¼‰ã«æä¾›ã™ã‚‹ OAuth 2.0 èªå¯ã‚µãƒ¼ãƒãƒ¼ã€‚

    > [!IMPORTANT]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š OP ã®äºŒå¤§è²¬å‹™**
    > 1. **èªè¨¼ (Authentication)**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒèª°ã§ã‚ã‚‹ã‹ã‚’ç‰¹å®šã™ã‚‹ï¼ˆãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†ï¼‰ã€‚
    > 2. **æƒ…å ±ã®æä¾› (Claims)**: ç‰¹å®šã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æƒ…å ±ã‚’ã€ŒIDãƒˆãƒ¼ã‚¯ãƒ³ã€ãªã©ã®å½¢ã§RPã«å®‰å…¨ã«å—ã‘æ¸¡ã™ã€‚

    > [!NOTE]
    > **ðŸ’¡ è±†çŸ¥è­˜ï¼š èªå¯ã‚µãƒ¼ãƒãƒ¼ã¨ã®é•ã„**
    >
    > ä¸€èˆ¬çš„ãª OAuth 2.0 èªå¯ã‚µãƒ¼ãƒãƒ¼ã¯ã€Œã‚¢ã‚¯ã‚»ã‚¹æ¨©ã®ä»˜ä¸Žã€ãŒä¸»ç›®çš„ã§ã™ãŒã€OP ã¯ãã‚Œã«åŠ ãˆã¦ã€Œæœ¬äººç¢ºèªï¼ˆèªè¨¼ï¼‰ã€ã‚’è¡Œã†èƒ½åŠ›ã‚’æŒã£ã¦ã„ã‚‹ç‚¹ãŒç‰¹å¾´ã§ã™ã€‚
* **PII: Personally Identifiable Information (å€‹äººç‰¹å®šå¯èƒ½æƒ…å ±)**
    * (a) ç‰¹å®šã®å€‹äººï¼ˆè‡ªç„¶äººï¼‰ã‚’è­˜åˆ¥ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã§ãã‚‹æƒ…å ±
    * (b) ç‰¹å®šã®å€‹äººã«ç›´æŽ¥çš„ãƒ»é–“æŽ¥çš„ã«ç´ä»˜ã‘ã‚‰ã‚Œã¦ã„ã‚‹ï¼ˆã‚ã‚‹ã„ã¯ãã®å¯èƒ½æ€§ãŒã‚ã‚‹ï¼‰æƒ…å ±

    > [!IMPORTANT]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š PII ã®å–ã‚Šæ‰±ã„ã«é–¢ã™ã‚‹åŽ³æ ¼ãªå®šç¾©**
    >
    > å˜ä½“ã§å€‹äººãŒåˆ†ã‹ã‚‹ã€Œåå‰ã€ã ã‘ã§ãªãã€ä»–ã®ãƒ‡ãƒ¼ã‚¿ã¨çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§å€‹äººã‚’ç‰¹å®šã§ãã¦ã—ã¾ã†ã€Œé–“æŽ¥çš„ãªæƒ…å ±ã€ã‚‚ã™ã¹ã¦ PII ã«å«ã¾ã‚Œã‚‹ã¨ã„ã†ç‚¹ã«æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚

    > [!TIP]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š OIDC ã«ãŠã‘ã‚‹ PII ã®ä¾‹**
    > * `name` (åå‰), `email` (ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹), `address` (ä½æ‰€)
    > * `sub` (è­˜åˆ¥å­) ã‚„ IPã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆã“ã‚Œã‚‰ã‚‚é–“æŽ¥çš„ãª PII ã¨ã¿ãªã•ã‚Œã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ï¼‰

    > [!NOTE]
    > **ðŸ’¡ è±†çŸ¥è­˜ï¼š OIDC ã®ä»•æ§˜ã«ãŠã‘ã‚‹ PII ã®å–ã‚Šæ‰±ã„**
    >
    > OIDC ã®ä»•æ§˜ã§ã¯ã€ã“ã‚Œã‚‰ PII ã‚’ã‚„ã‚Šå–ã‚Šã™ã‚‹éš›ã«ã€Œã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®åŒæ„ï¼ˆConsentï¼‰ã€ã‚’å¾—ã‚‹ã“ã¨ã‚„ã€é€šä¿¡ã®æš—å·åŒ–ã‚’æ±‚ã‚ã¦ã„ã¾ã™ã€‚
* **PPID: Pairwise Pseudonymous Identifier**
    * ç‰¹å®šã®ãƒªãƒ©ã‚¤ã‚¤ãƒ³ã‚°ãƒ»ãƒ‘ãƒ¼ãƒ†ã‚£ï¼ˆRPï¼‰å†…ã§ã®ã¿æœ‰åŠ¹ãªã€ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®ä»®åè­˜åˆ¥å­ã€‚

    > [!IMPORTANT]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·ã®è¦**
    >
    > ç•°ãªã‚‹ RP é–“ã§åŒã˜ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã«å¯¾ã—ã¦ç•°ãªã‚‹è­˜åˆ¥å­ã‚’ç™ºè¡Œã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€è¤‡æ•°ã®ã‚µãƒ¼ãƒ“ã‚¹é–“ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¡Œå‹•ã‚’åå¯„ã›ã—ãŸã‚Šã€è¿½è·¡ï¼ˆãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ï¼‰ã—ãŸã‚Šã™ã‚‹ã“ã¨ã‚’æŠ€è¡“çš„ã«é˜²ãŽã¾ã™ã€‚

    > [!TIP]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š Public Identifier ã¨ã®ä½¿ã„åˆ†ã‘**
    > * **Public**: ã©ã® RP ã«å¯¾ã—ã¦ã‚‚åŒã˜ IDï¼ˆä¾‹ï¼šä¸€è²«ã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼‰ã‚’è¿”ã™ã€‚
    > * **Pairwise**: RP ã”ã¨ã«ãƒãƒ©ãƒãƒ©ã® ID ã‚’è¿”ã™ã€‚
    > ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®åŒ¿åæ€§ã‚’é«˜ã‚ãŸã„ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆã§ã¯ã€ã“ã® PPID ãŒæŽ¡ç”¨ã•ã‚Œã¾ã™ã€‚

    > [!NOTE]
    > **ðŸ’¡ è±†çŸ¥è­˜ï¼š å®Ÿè£…æ–¹æ³•**
    >
    > è­˜åˆ¥å­ã®è¨ˆç®—ã«ã¯ã€é€šå¸¸ã€Œã‚»ã‚¯ã‚¿ãƒ¼è­˜åˆ¥å­ï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³ç­‰ï¼‰ã€ã¨ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å†…éƒ¨IDã€ã€ã€Œã‚½ãƒ«ãƒˆï¼ˆç§˜å¯†ã®æ–‡å­—åˆ—ï¼‰ã€ãªã©ã‚’çµ„ã¿åˆã‚ã›ã¦ãƒãƒƒã‚·ãƒ¥åŒ–ã™ã‚‹æ‰‹æ³•ãŒå–ã‚‰ã‚Œã¾ã™ã€‚
* **Request Object (ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ)**
    * ä¸€é€£ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ã‚¯ãƒ¬ãƒ¼ãƒ ï¼ˆå±žæ€§ï¼‰ã¨ã—ã¦æ ¼ç´ã—ãŸ **JWT (JSON Web Token)**ã€‚

    > [!TIP]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š ãªãœã‚ã–ã‚ã– JWT ã«ã™ã‚‹ã®ã‹ï¼Ÿ**
    >
    > é€šå¸¸ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ãƒ–ãƒ©ã‚¦ã‚¶ã® URL ã‚¯ã‚¨ãƒªï¼ˆ`?client_id=...&scope=...`ï¼‰ã¨ã—ã¦é€ã‚‰ã‚Œã¾ã™ãŒã€ã“ã‚Œã«ã¯ã€Œæ”¹ã–ã‚“å¯èƒ½ã€ã€ŒURLã®é•·ã•åˆ¶é™ã€ã¨ã„ã£ãŸå¼±ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚
    > 
    > ã“ã‚Œã‚‰ã‚’ **Request Object (JWT)** ã¨ã—ã¦ä¸€ã¤ã«ã¾ã¨ã‚ã‚‹ã“ã¨ã§ã€ä»¥ä¸‹ã®ãƒ¡ãƒªãƒƒãƒˆãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚
    > 1. **ç½²åã«ã‚ˆã‚‹ä¿è­·**: ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ãŒé€”ä¸­ã§æ”¹ã–ã‚“ã•ã‚Œã¦ã„ãªã„ã“ã¨ã‚’ä¿è¨¼ã§ãã‚‹ã€‚
    > 2. **æš—å·åŒ–**: ã‚»ãƒ³ã‚·ãƒ†ã‚£ãƒ–ãªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’éš ã™ã“ã¨ãŒã§ãã‚‹ã€‚
    > 3. **è¤‡é›‘ãªæŒ‡å®š**: å¤šãã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å®‰å…¨ã‹ã¤ç¢ºå®Ÿã« OP ã¸ä¼ãˆã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚

    > [!NOTE]
    > **ðŸ’¡ è±†çŸ¥è­˜ï¼š å®Ÿè£…æ–¹æ³•**
    >
    > å®Ÿè£…ä¸Šã¯ã€èªè¨¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã« `request` ã¾ãŸã¯ `request_uri` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦ã“ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ OP ã«æ¸¡ã—ã¾ã™ã€‚
* **Request URI (ãƒªã‚¯ã‚¨ã‚¹ãƒˆ URI)**
    * ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å«ã‚€ãƒªã‚½ãƒ¼ã‚¹ã‚’å‚ç…§ã™ã‚‹ URLã€‚

    > [!IMPORTANT]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š èªå¯ã‚µãƒ¼ãƒãƒ¼ (OP) ã‹ã‚‰ã®åˆ°é”æ€§**
    > å®šç¾©ã«ã‚ã‚‹é€šã‚Šã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆ URI ã®å†…å®¹ã¯ã€Œèªå¯ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰å–å¾—å¯èƒ½ï¼ˆretrievableï¼‰ã€ã§ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚ã¤ã¾ã‚Šã€OP ãŒãã® URL ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹çŠ¶æ…‹ã«ã‚ã‚‹ã“ã¨ãŒå¿…é ˆæ¡ä»¶ã§ã™ã€‚

    > [!TIP]
    > **ðŸ’¡ ãƒ¡ãƒªãƒƒãƒˆï¼š URLã®è‚¥å¤§åŒ–é˜²æ­¢ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**
    > 1. ãƒ–ãƒ©ã‚¦ã‚¶ã® URL é•·ã•åˆ¶é™ï¼ˆ2000æ–‡å­—ç¨‹åº¦ï¼‰ã‚’æ°—ã«ã›ãšã€è¤‡é›‘ãªãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã§ãã‚‹ã€‚
    > 2. ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã®å±¥æ­´ç­‰ã«æ®‹ã•ãšã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–“ã§å®‰å…¨ã«å—ã‘æ¸¡ã—ãŒã§ãã‚‹ã€‚

    > [!NOTE]
    > **ðŸ’¡ è±†çŸ¥è­˜ï¼š å®Ÿè£…æ–¹æ³•**
    >
    > å®Ÿè£…ä¸Šã¯ã€èªè¨¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã« `request_uri` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦ã“ã® URL ã‚’æ¸¡ã—ã¾ã™ã€‚
* **RP: Relying Party (ãƒªãƒ©ã‚¤ã‚¤ãƒ³ã‚°ãƒ»ãƒ‘ãƒ¼ãƒ†ã‚£)**
    * ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®èªè¨¼çµæžœã€ãŠã‚ˆã³ OpenID ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ (OP) ã‹ã‚‰æä¾›ã•ã‚Œã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ï¼ˆã‚¯ãƒ¬ãƒ¼ãƒ ï¼‰ã‚’å¿…è¦ã¨ã™ã‚‹ OAuth 2.0 ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚

    > [!IMPORTANT]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼šã€Œä¿¡é ¼ã™ã‚‹å´ã€ã¨ã„ã†å½¹å‰²**
    >
    > è‡ªå‰ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’ç®¡ç†ãƒ»æ¤œè¨¼ã™ã‚‹ã®ã§ã¯ãªãã€OP ãŒç™ºè¡Œã—ãŸã€ŒIDãƒˆãƒ¼ã‚¯ãƒ³ã€ã®å†…å®¹ã‚’ä¿¡é ¼ã—ã¦ã€è‡ªã‚µãƒ¼ãƒ“ã‚¹ã¸ã®ãƒ­ã‚°ã‚¤ãƒ³ã‚’è¨±å¯ã™ã‚‹å½¹å‰²ã‚’æ‹…ã„ã¾ã™ã€‚

    > [!TIP]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š å®Ÿè£…ã«ãŠã‘ã‚‹ RP ã®è²¬å‹™**
    >
    > RP ã‚’é–‹ç™ºã™ã‚‹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¯ã€OP ã‹ã‚‰é€ã‚‰ã‚Œã¦ããŸ IDãƒˆãƒ¼ã‚¯ãƒ³ãŒã€Œæœ¬å½“ã«ä¿¡é ¼ã§ãã‚‹ OP ã‹ã‚‰ç™ºè¡Œã•ã‚ŒãŸã‚‚ã®ã‹ã€ã€Œæœ‰åŠ¹æœŸé™ãŒåˆ‡ã‚Œã¦ã„ãªã„ã‹ã€ã€Œè‡ªã‚¢ãƒ—ãƒªå®›ã¦ã®ã‚‚ã®ã‹ã€ã‚’æ¤œè¨¼ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’å¿…ãšå®Ÿè£…ã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚

    > [!NOTE]
    > **ðŸ’¡ è±†çŸ¥è­˜ï¼š å®Ÿè£…ã«ãŠã‘ã‚‹ RP ã®è²¬å‹™**
    >
    > ä¸€èˆ¬çš„ãªã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã®ã€ŒGoogleã§ãƒ­ã‚°ã‚¤ãƒ³ã€ãƒœã‚¿ãƒ³ã‚’é…ç½®ã—ã¦ã„ã‚‹ã‚¢ãƒ—ãƒªå´ãŒã€å…¸åž‹çš„ãª RP ã®ä¾‹ã§ã™ã€‚
* **Sector Identifier (ã‚»ã‚¯ã‚¿ãƒ¼è­˜åˆ¥å­)**
    * ãƒªãƒ©ã‚¤ã‚¤ãƒ³ã‚°ãƒ»ãƒ‘ãƒ¼ãƒ†ã‚£ (RP) ã®çµ„ç¹”ã«é–¢é€£ã™ã‚‹ URL ã®ãƒ›ã‚¹ãƒˆéƒ¨åˆ†ã€‚ãƒšã‚¢ã”ã¨ (Pairwise) ã®è¢«è­˜åˆ¥å­ã®è¨ˆç®—ã«ãŠã„ã¦å…¥åŠ›å€¤ã¨ã—ã¦ä½¿ç”¨ã•ã‚Œã‚‹ã€‚

    > [!IMPORTANT]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š ã€Œåå¯„ã›ã€ã®ç¯„å›²ã‚’å®šç¾©ã™ã‚‹**
    >
    > é€šå¸¸ã€ãƒšã‚¢ã”ã¨ã®è­˜åˆ¥å­ï¼ˆPPIDï¼‰ã¯ã‚¢ãƒ—ãƒªï¼ˆclient_idï¼‰ã”ã¨ã«ç•°ãªã‚Šã¾ã™ã€‚ã—ã‹ã—ã€åŒã˜ä¼šç¤¾ãŒé‹å–¶ã™ã‚‹è¤‡æ•°ã®ã‚¢ãƒ—ãƒªé–“ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å…±æœ‰ã—ãŸã„å ´åˆã€ã“ã®ã€Œã‚»ã‚¯ã‚¿ãƒ¼è­˜åˆ¥å­ã€ã‚’å…±é€šåŒ–ã™ã‚‹ã“ã¨ã§ã€ãã®ã‚°ãƒ«ãƒ¼ãƒ—å†…ã§ã®ã¿å…±é€šã®ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‚’æŒãŸã›ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚

    > [!TIP]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨åˆ©ä¾¿æ€§ã®ãƒãƒ©ãƒ³ã‚¹**
    >
    > å…¨ãç„¡é–¢ä¿‚ãªã‚µãƒ¼ãƒ“ã‚¹é–“ã§ã®è¿½è·¡ã¯é˜²ãŽã¤ã¤ã€åŒã˜é‹å–¶è€…ã®ã‚µãƒ¼ãƒ“ã‚¹é–“ï¼ˆä¾‹ï¼šåŒã˜ä¼šç¤¾ã®ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ã‚µã‚¤ãƒˆã¨ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚µã‚¤ãƒˆï¼‰ã§ã¯ã‚¹ãƒ ãƒ¼ã‚ºãªé€£æºã‚’å¯èƒ½ã«ã™ã‚‹ãŸã‚ã®ä»•çµ„ã¿ã§ã™ã€‚

    > [!NOTE]
    > **ðŸ’¡ è±†çŸ¥è­˜ï¼š å®Ÿè£…ã«ãŠã‘ã‚‹ RP ã®è²¬å‹™**
    >
    > RP ãŒ `sector_identifier_uri` ã‚’æä¾›ã—ãªã„å ´åˆã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ URI ã®ãƒ›ã‚¹ãƒˆéƒ¨åˆ†ãŒã‚»ã‚¯ã‚¿ãƒ¼è­˜åˆ¥å­ã¨ã—ã¦ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚
* **SIOP: Self-Issued OpenID Provider (è‡ªå·±ç™ºè¡Œåž‹ OpenID ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼)**
    * è‡ªå·±ç½²å ID ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç™ºè¡Œã™ã‚‹ã€å€‹äººå‘ã‘ã®è‡ªå·±ãƒ›ã‚¹ãƒˆåž‹ OpenID ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã€‚

    > [!IMPORTANT]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š ä¸­å¤®é›†æ¨©ã‹ã‚‰ã®è„±å´**
    >
    > é€šå¸¸ã® OIDC ã¯ Google ãªã©ã®ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ãŒã€Œã“ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯æœ¬äººã§ã™ã€ã¨ä¿è¨¼ã—ã¾ã™ãŒã€SIOP ã§ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼è‡ªèº«ãŒè‡ªåˆ†ã‚’è¨¼æ˜Žã—ã¾ã™ã€‚ç‰¹å®šã®å·¨å¤§ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«ä¾å­˜ã—ãªã„ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ç®¡ç†ã‚’ç›®æŒ‡ã™ä»•çµ„ã¿ã§ã™ã€‚

    > [!TIP]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼šã©ã“ã§å‹•ãã®ã‹ï¼Ÿ**
    >
    > ã€Œè‡ªå·±ãƒ›ã‚¹ãƒˆåž‹ï¼ˆSelf-hostedï¼‰ã€ã¨ã‚ã‚‹ã‚ˆã†ã«ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¹ãƒžãƒ¼ãƒˆãƒ•ã‚©ãƒ³å†…ã®ã‚¢ãƒ—ãƒªã‚„ã€å€‹äººã§ç«‹ã¦ãŸã‚µãƒ¼ãƒãƒ¼ãŒãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ï¼ˆOPï¼‰ã¨ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚

    > [!NOTE]
    > **ðŸ’¡ è±†çŸ¥è­˜ï¼š SIOP ã¨ä¸€èˆ¬çš„ãª OIDC ã¨ã®é•ã„**
    >
    > å¤šãã®ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ä¸€èˆ¬çš„ãª OIDC ãƒ•ãƒ­ãƒ¼ã¨ã¯ç•°ãªã‚Šã€ãƒ‡ã‚¸ã‚¿ãƒ«ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‚„ Web3ã€åˆ†æ•£åž‹ã‚¢ã‚¤ãƒ‡ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼ˆDecentralized Identityï¼‰ãªã©ã®åˆ†é‡Žã§æ³¨ç›®ã•ã‚Œã¦ã„ã‚‹ä»•æ§˜ã§ã™ã€‚
* **Subject Identifier (è¢«è­˜åˆ¥å­)**
    * ç™ºè¡Œè€… (Issuer) å†…ã§ä¸€æ„ã§ã‚ã‚Šã€ã‹ã¤æ±ºã—ã¦å†å‰²ã‚Šå½“ã¦ã•ã‚Œãªã„ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è­˜åˆ¥å­ã€‚

    > [!IMPORTANT]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼šã€Œä¸å¤‰æ€§ã€ã®é‡è¦æ€§**
    >
    > ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚„ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’å¤‰æ›´ã—ã¦ã‚‚ã€ã“ã®è­˜åˆ¥å­ï¼ˆé€šå¸¸ `sub` ã‚¯ãƒ¬ãƒ¼ãƒ ï¼‰ã¯å¤‰ã‚ã£ã¦ã¯ã„ã‘ã¾ã›ã‚“ã€‚ã¾ãŸã€ã‚ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå‰Šé™¤ã•ã‚ŒãŸå¾Œã€ãã®è­˜åˆ¥å­ãŒåˆ¥ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ä½¿ã„å›žã•ã‚Œã‚‹ã“ã¨ã‚‚æ±ºã—ã¦ã‚ã£ã¦ã¯ãªã‚Šã¾ã›ã‚“ã€‚

    > [!TIP]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š å®Ÿå‹™ã§ã®è­˜åˆ¥å­**
    >
    > ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ä¸»ã‚­ãƒ¼ã¨ã—ã¦ã“ã®å€¤ã‚’ä¿å­˜ã™ã‚‹ã“ã¨ã§ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã®è¡¨ç¤ºåã‚’å¤‰ãˆã¦ã‚‚ã€ã‚¢ãƒ—ãƒªå´ã§ã¯åŒä¸€äººç‰©ã¨ã—ã¦æ­£ã—ãèªè­˜ã—ç¶šã‘ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

    > [!NOTE]
    > **ðŸ’¡ è±†çŸ¥è­˜ï¼š å®Ÿå‹™ã§ã®è­˜åˆ¥å­**
    >
    > IDãƒˆãƒ¼ã‚¯ãƒ³ã®ä¸­ã§ã¯ `sub` ã¨ã„ã†åå‰ã®ã‚¯ãƒ¬ãƒ¼ãƒ ã¨ã—ã¦æ ¼ç´ã•ã‚Œã¦ã„ã¾ã™ã€‚
* **UserInfo Endpoint (ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ)**
    * ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãŒã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’æç¤ºã™ã‚‹ã“ã¨ã§ã€ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å±žæ€§æƒ…å ±ï¼ˆã‚¯ãƒ¬ãƒ¼ãƒ ï¼‰ã‚’å–å¾—ã§ãã‚‹ä¿è­·ã•ã‚ŒãŸãƒªã‚½ãƒ¼ã‚¹ï¼ˆAPIï¼‰ã€‚

    > [!IMPORTANT]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š HTTPS ã®å¿…é ˆåŒ–**
    >
    > ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å€‹äººæƒ…å ±ã‚’ç›´æŽ¥ã‚„ã‚Šå–ã‚Šã™ã‚‹ãŸã‚ã€ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã® URL ã¯å¿…ãš `https` ã‚¹ã‚­ãƒ¼ãƒ ã§ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚

    > [!TIP]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š IDãƒˆãƒ¼ã‚¯ãƒ³ã¨ã®ä½¿ã„åˆ†ã‘**
    > * **IDãƒˆãƒ¼ã‚¯ãƒ³**: ãƒ­ã‚°ã‚¤ãƒ³ç›´å¾Œã«ã€Œãƒ•ãƒ­ãƒ³ãƒˆãƒãƒ£ãƒãƒ«ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ï¼‰ã€çµŒç”±ãªã©ã§å—ã‘å–ã‚‹åŸºæœ¬çš„ãªæœ¬äººç¢ºèªæƒ…å ±ã€‚
    > * **UserInfo**: å¿…è¦ã«å¿œã˜ã¦ã€Œãƒãƒƒã‚¯ãƒãƒ£ãƒãƒ«ï¼ˆã‚µãƒ¼ãƒãƒ¼é–“é€šä¿¡ï¼‰ã€çµŒç”±ã§ã€ã‚ˆã‚Šè©³ç´°ãªãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æƒ…å ±ã‚’å–å¾—ã™ã‚‹ãŸã‚ã«å©ã APIã€‚

    > [!NOTE]
    > **ðŸ’¡ è±†çŸ¥è­˜ï¼š `scope` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨è¿”ã£ã¦ãã‚‹æƒ…å ±ã®ç¯„å›²**
    >
    > è¿”ã£ã¦ãã‚‹æƒ…å ±ã®ç¯„å›²ï¼ˆåå‰ã ã‘ã‹ã€ãƒ¡ã‚¢ãƒ‰ã‚‚å«ã‚€ã‹ç­‰ï¼‰ã¯ã€èªè¨¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã«æŒ‡å®šã—ãŸ `scope` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ã‚ˆã£ã¦æ±ºã¾ã‚Šã¾ã™ã€‚
* **Validation (ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ / æ¤œè¨¼)**
    * ãƒ‡ãƒ¼ã‚¿ã®æ§‹é€ ã‚„å†…å®¹ãŒã€å¦¥å½“ã§ã‚ã‚Šæ­£ç¢ºã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºå®šã•ã›ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚»ã‚¹ã€‚

    > [!IMPORTANT]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š OIDC ã«ãŠã‘ã‚‹ç”Ÿå‘½ç·š**
    >
    > IDãƒˆãƒ¼ã‚¯ãƒ³ã‚’å—ã‘å–ã£ãŸéš›ã€ã“ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ€ ã‚‹ã¨ã€Œå½é€ ã•ã‚ŒãŸãƒˆãƒ¼ã‚¯ãƒ³ã€ã‚„ã€Œä»–äººã®ãƒˆãƒ¼ã‚¯ãƒ³ã€ã‚’å—ã‘å…¥ã‚Œã¦ã—ã¾ã†é‡å¤§ãªè„†å¼±æ€§ã«ç›´çµã—ã¾ã™ã€‚ä»•æ§˜æ›¸ã«ã€ŒValidateã€ã¨æ›¸ã‹ã‚Œã¦ã„ã‚‹ç®‡æ‰€ã¯ã€å®Ÿè£…ã«ãŠã„ã¦æœ€ã‚‚æ³¨æ„ã‚’æ‰•ã†ã¹ãéƒ¨åˆ†ã§ã™ã€‚

    > [!TIP]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼šå…·ä½“çš„ãªæ¤œè¨¼é …ç›®ï¼ˆä¾‹ï¼‰**
    > 1. **ç½²åã®æ¤œè¨¼**: æ”¹ã–ã‚“ã•ã‚Œã¦ã„ãªã„ã‹ï¼Ÿ
    > 2. **Issuerã®æ¤œè¨¼**: ä¿¡é ¼ã§ãã‚‹OPã‹ã‚‰å‡ºã•ã‚ŒãŸã‹ï¼Ÿ
    > 3. **Audienceã®æ¤œè¨¼**: è‡ªåˆ†ã®ã‚¢ãƒ—ãƒªå®›ã«å‡ºã•ã‚ŒãŸã‹ï¼Ÿ
    > 4. **æœ‰åŠ¹æœŸé™ã®æ¤œè¨¼**: æœŸé™åˆ‡ã‚Œã§ã¯ãªã„ã‹ï¼Ÿ

    > [!NOTE]
    > **ðŸ’¡ è±†çŸ¥è­˜ï¼š ä»•æ§˜æ›¸å†…ã®ã€ŒValidateã€ã®æ„å‘³**
    >
    > ä»•æ§˜æ›¸å†…ã§ã¯ã€ŒIDãƒˆãƒ¼ã‚¯ãƒ³ã®æ¤œè¨¼ã€ã ã‘ã§ãªãã€ã€Œãƒªã‚¯ã‚¨ã‚¹ãƒˆã®æ¤œè¨¼ã€ã‚„ã€Œç½²åã®æ¤œè¨¼ã€ãªã©ã€æ§˜ã€…ãªãƒ•ã‚§ãƒ¼ã‚ºã§ã“ã®è¨€è‘‰ãŒç™»å ´ã—ã¾ã™ã€‚
* **Verification (ãƒ™ãƒªãƒ•ã‚£ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ / æ¤œè¨¼)**
    * äº‹å®Ÿã‚„å€¤ãŒçœŸå®Ÿã§ã‚ã‚Šã€æ­£ç¢ºã§ã‚ã‚‹ã“ã¨ã‚’ãƒ†ã‚¹ãƒˆã€ã‚ã‚‹ã„ã¯è¨¼æ˜Žã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚»ã‚¹ã€‚

    > [!IMPORTANT]
    > **ðŸ’¡ æŠ€è¡“çš„ãªãƒ’ãƒ³ãƒˆï¼š ã€Œäº‹å®Ÿã€ã¸ã®åˆ°é”**
    >
    > OIDCã«ãŠã„ã¦ã¯ã€ç‰¹ã«ã€Œç½²åã®æ¤œè¨¼ï¼ˆSignature Verificationï¼‰ã€ãŒæœ€ã‚‚é‡è¦ã§ã™ã€‚æ•°å­¦çš„ãªè¨ˆç®—ã‚’ç”¨ã„ã¦ã€ãã®ãƒˆãƒ¼ã‚¯ãƒ³ãŒå½é€ ã•ã‚ŒãŸã‚‚ã®ã§ã¯ãªã„ã¨ã„ã†ã€ŒçœŸå®Ÿã€ã‚’ç¢ºå®šã•ã›ã¾ã™ã€‚

    > [!NOTE]
    > **ðŸ’¡ è±†çŸ¥è­˜ï¼š Validation ã¨ã®é•ã„**
    > * **Validation (å¦¥å½“æ€§ç¢ºèª)**: ã€ŒæœŸé™ã¯åˆ‡ã‚Œã¦ã„ãªã„ã‹ï¼Ÿã€ã€Œåž‹ã¯åˆã£ã¦ã„ã‚‹ã‹ï¼Ÿã€ã¨ã„ã£ãŸã€ãƒ«ãƒ¼ãƒ«ã‚„ä»•æ§˜ã¸ã®é©åˆæ€§ã‚’ç¢ºèªã™ã‚‹ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ã€‚
    > * **Verification (çœŸå®Ÿæ€§ç¢ºèª)**: ã€Œã“ã‚Œã¯æœ¬ç‰©ã‹ï¼Ÿã€ã€Œã“ã®å€¤ã¯äº‹å®Ÿã‹ï¼Ÿã€ã¨ã„ã£ãŸã€å˜˜ã‚„å½ã‚ŠãŒãªã„ã‹ã‚’è¨¼æ˜Žã™ã‚‹ãƒ‹ãƒ¥ã‚¢ãƒ³ã‚¹ã€‚
    >
    > å®Ÿéš›ã®å®Ÿè£…ã§ã¯ã€ä¸¡æ–¹ã‚’çµ„ã¿åˆã‚ã›ã¦ã€Œå®‰å…¨ã€ã‚’ç¢ºä¿ã—ã¾ã™ã€‚
* **Voluntary Claim (ä»»æ„ã‚¯ãƒ¬ãƒ¼ãƒ )**
    * ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ã‚ˆã£ã¦ã€Œæœ‰ç”¨ã ãŒä¸å¯æ¬ ï¼ˆEssentialï¼‰ã§ã¯ãªã„ã€ã¨æŒ‡å®šã•ã‚ŒãŸã‚¯ãƒ¬ãƒ¼ãƒ ã€‚

    > [!TIP]
    > **ðŸ’¡ è±†çŸ¥è­˜ï¼š Essential Claim ã¨ã®ä½¿ã„åˆ†ã‘**
    > * **Essential (ä¸å¯æ¬ )**: ãã®æƒ…å ±ãŒãªã„ã¨ã‚µãƒ¼ãƒ“ã‚¹ã‚’æä¾›ã§ããªã„ï¼ˆä¾‹ï¼šå¹´é½¢åˆ¶é™ãŒã‚ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã®èª•ç”Ÿæ—¥ãªã©ï¼‰ã€‚
    > * **Voluntary (ä»»æ„)**: ã‚ã‚Œã°ã‚ˆã‚Šè‰¯ã„ä½“é¨“ã‚’æä¾›ã§ãã‚‹ãŒã€ãªãã¦ã‚‚å‡¦ç†ã¯ç¶™ç¶šã§ãã‚‹ï¼ˆä¾‹ï¼šãƒ‹ãƒƒã‚¯ãƒãƒ¼ãƒ ã‚„ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒãªã©ï¼‰ã€‚

    > [!NOTE]
    > **ðŸ’¡ è±†çŸ¥è­˜ï¼š èªè¨¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆã® `claims` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**
    >
    > ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯ã€èªè¨¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆã® `claims` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ä¸­ã§ã€å€‹ã€…ã®ã‚¯ãƒ¬ãƒ¼ãƒ ã«å¯¾ã—ã¦ `essential: true` ã¾ãŸã¯ `false`ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ false ãªã®ã§ Voluntary æ‰±ã„ï¼‰ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ã“ã®åŒºåˆ¥ã‚’ OP ã«ä¼ãˆã¾ã™ã€‚

---

> [!NOTE]
> **ç”¨èªžã®èƒŒæ™¯ã«é–¢ã™ã‚‹å‚è€ƒæ–‡çŒ®**
> 
> æœ¬ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ç”¨èªžã®ã‚ˆã‚Šæ·±ã„èƒŒæ™¯ã‚„æŠ€è¡“çš„è©³ç´°ã«ã¤ã„ã¦ã¯ã€ä»¥ä¸‹ã®è³‡æ–™ã‚‚ä½µã›ã¦å‚ç…§ã—ã¦ãã ã•ã„ã€‚
> * **[RFC4949]**: Internet Security Glossary, Version 2
> * **[ISO29115]**: ISO/IEC 29115 Entity Authentication Assurance
> * **[X.1252]**: ITU-T X.1252